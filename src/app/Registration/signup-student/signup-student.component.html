
<div class="flex justify-center items-center flex-col h-screen">
    <h1 class="text-3xl my-[35px] font-bold" style="font-family: 'Atkinson Hyperlegible', sans-serif">Sign up as a Student</h1>

    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="w-[550px]" style="font-family: 'Atkinson Hyperlegible', sans-serif">
        <div class="flex">

            <div class="flex flex-col mr-4 w-full">
                <label for="firstName">First name</label>
                <input type="text" formControlName="firstName" class="py-[6px] rounded-lg bg-gray-50 px-4 border-2 border-gray-200 w-full" name="firstName" style="font-family: 'Atkinson Hyperlegible', sans-serif" placeholder="">

                <div *ngIf="signupForm.get('firstName')?.touched && signupForm.get('firstName')?.invalid" class="text-red-500 mt-1 pl-[40px]">
                    <span *ngIf="signupForm.get('firstName')?.errors?.['required']">First name is required</span>
                </div>

            </div>

            <div class="flex flex-col w-full">
                <label for="lastName">Last name</label>
                <input type="text" formControlName="lastName" class="py-[6px] rounded-lg bg-gray-50 px-4 border-2 border-gray-200 w-full" name="lastName" style="font-family: 'Atkinson Hyperlegible', sans-serif" placeholder="">

                <div *ngIf="signupForm.get('lastName')?.touched && signupForm.get('lastName')?.invalid" class="text-red-500 mt-1 pl-[40px]">
                    <span *ngIf="signupForm.get('lastName')?.errors?.['required']">Last name is required</span>
                </div>

            </div>

        </div>

        <div class="flex flex-col pt-6">
            <label for="username">Username</label>
            <input type="text" formControlName="username" name="username" class="py-[6px] rounded-lg bg-gray-50 px-4 border-2 border-gray-200 w-full" style="font-family: 'Atkinson Hyperlegible', sans-serif">
        </div>

        <div class="flex flex-col pt-6">
            <label for="email">Email</label>
            <input type="email" formControlName="email" name="email" class="py-[6px] rounded-lg bg-gray-50 px-4 border-2 border-gray-200 w-full" style="font-family: 'Atkinson Hyperlegible', sans-serif">
        </div>

        <!-- Email Error Handling -->
        <div *ngIf="signupForm.get('email')?.touched && signupForm.get('email')?.invalid" class="text-red-500 mt-1 pl-[40px]">
            <span *ngIf="signupForm.get('email')?.errors?.['required']">Email is required</span>
            <span *ngIf="signupForm.get('email')?.errors?.['email']">Invalid email format</span>
        </div>

        <div class="flex flex-col pt-6">
            <label for="gender">Gender</label>
            <select formControlName="gender" name="gender" class="py-[6px] rounded-lg bg-gray-50 px-4 border-2 border-gray-200 w-full" style="font-family: 'Atkinson Hyperlegible', sans-serif">
                <option value="male">Male</option>
                <option value="female">Female</option>
            </select>
        </div>

        <div class="flex flex-col pt-6">
            <label for="dateOfBirth">Date of Birth</label>
            <input type="date" formControlName="dateOfBirth" name="dateOfBirth" class="py-[6px] rounded-lg bg-gray-50 px-4 border-2 border-gray-200 w-full" style="font-family: 'Atkinson Hyperlegible', sans-serif">
        </div>

        <div class="flex flex-col pt-6">
            <label for="password">Password</label>
            <input type="password" formControlName="password" name="password" class="py-[6px] pl-[15px] rounded-lg bg-gray-50 border-2 border-gray-200 w-full" placeholder="Password (8 or more characters)" style="font-family: 'Atkinson Hyperlegible', sans-serif">
        </div>

        <!-- Password Error Handling -->
        <div *ngIf="signupError" class="text-red-500 mt-2 pl-[40px]">
            {{ signupError }}
        </div>
        <div *ngIf="signupForm.get('password')?.touched && signupForm.get('password')?.invalid" class="text-red-500 mt-1 pl-[40px]">
            <span *ngIf="signupForm.get('password')?.errors?.['required']">Password is required</span>
            <span *ngIf="signupForm.get('password')?.errors?.['minlength']">Password must be at least 8 characters long</span>
        </div>

        <div class="flex flex-col pt-6 w-full">
            <label class="flex items-start">
                <input type="checkbox" formControlName="termsAccepted" name="termsAccepted" class="h-6 w-6 mr-2">
                <span style="font-family: 'Atkinson Hyperlegible', sans-serif">Yes, I understand and agree to the <span class="text-[#ffa500] underline">Eschoola Terms of Service</span>, including the <span class="text-[#ffa500] underline">User Agreement</span> and <span class="text-[#ffa500] underline">Privacy Policy</span>.</span>
            </label>

        </div>

        <div class="flex flex-col pt-6 w-full">
            <label class="flex items-start">
                <input type="checkbox" formControlName="newsletterSubscribe" name="newsletterSubscribe" class="h-[17px] w-[17px] mr-2">
                <span style="font-family: 'Atkinson Hyperlegible', sans-serif">Send me emails with tips on how to find teachers that fit my needs.</span>
            </label>
        </div>

        <div class="flex justify-center mt-6">
            <button type="submit" class="btn bg-[#ffa500] w-full rounded-xl text-white text-lg px-4 py-[6px]" style="font-family: 'Atkinson Hyperlegible', sans-serif">
                Create my Student Account
            </button>
        </div>

        <div class="flex justify-center mt-4">
            <span style="font-family: 'Atkinson Hyperlegible', sans-serif">Already have an account? <a routerLink="/login" class="text-[#ffa500] underline">Log In</a></span>
        </div>
    </form>

    <div *ngIf="signupError" class="text-red-500 mt-4">
        {{ signupError }}
    </div>

    <div *ngIf="signupForm.get('termsAccepted')?.invalid && signupForm.get('termsAccepted')?.dirty || signupForm.get('termsAccepted')?.touched" class="text-red-500 mt-1 pl-[40px]">
        <span *ngIf="signupForm.get('terms')?.errors?.['required']">Please accept the Eschoola Terms of Service</span>
    </div>


</div>
